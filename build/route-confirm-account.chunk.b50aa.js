webpackJsonp([1],{Vobf:function(t,e,r){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var m=r("EBst"),d=r("o5xd"),y=r("y+SO"),w=r("HW6M"),O=r.n(w),j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g=(Object(m.h)("label",{class:"form-label"},"Email"),function(t){var e=i(t,["label"]);return Object(m.h)("div",null,Object(m.h)("label",{class:"form-label"},e.label),Object(m.h)("input",j({},e,{type:"text",class:"form-input"})))}),v=Object(m.h)("label",{class:"form-label"},"Password"),C=(function(t){function e(e){var r=n(this,t.call(this,e));return r._toggleShowPassword=r._toggleShowPassword.bind(r),r.state={showPassword:!1},r}o(e,t),e.prototype._toggleShowPassword=function(){this.setState({showPassword:!this.state.showPassword})},e.prototype.render=function(t){return Object(m.h)("div",null,v,Object(m.h)("input",j({},t,{class:"form-input",type:this.state.showPassword?"text":"password",placeholder:"Your password"})),Object(m.h)(_,{onClick:this._toggleShowPassword}))}}(m.Component),Object(m.h)("i",{class:"form-icon"})),_=function(t){return Object(m.h)("div",null,Object(m.h)("label",{class:"form-switch"},Object(m.h)("input",j({type:"checkbox"},t)),C,"Show password"))},S=r("r33O"),E=Object(m.h)("h1",{class:"text-center"},"Confirm Account"),P=Object(m.h)("i",{class:"icon icon-3x icon-mail",style:"width: 100%;margin: 0 auto;"}),N=Object(m.h)("p",{class:"text-center"},"We sent you an email. Please enter the six-digit number below to confirm your account."),x=Object(m.h)("p",{class:"form-input-hint"},"Please enter a six-digit number"),A=function(t){function e(){return c(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.prototype.render=function(t){var e=O()("form-group",{"has-error":t.hasError}),r=O()("btn","btn-primary","centered","mt-2",{loading:t.loading});return Object(m.h)("div",{class:e},E,P,N,Object(m.h)(S.a,{error:!0,active:t.showServerError},t.serverError),Object(m.h)(g,{value:t.confirmationNumber,onChange:t.handleConfirmationNumberChange}),x,Object(m.h)("button",{class:r,onClick:t.handleConfirmAccount},"Confirm Account"))},e}(m.Component),T=function(t){function e(r){u(this,e);var n=l(this,t.call(this,r));return n._handleConfirmationNumberChange=n._handleConfirmationNumberChange.bind(n),n._handleConfirmAccount=n._handleConfirmAccount.bind(n),n.state={confirmationNumber:"",serverError:"",showServerError:!1,confirmAccountSuccess:!1,loading:!1},n}return f(e,t),e.prototype._handleConfirmationNumberChange=function(t){this.setState({confirmationNumber:t.target.value})},e.prototype._handleConfirmAccount=function(){var t=this;this.setState({loading:!0}),fetch("https://erikdgustafson.com/api/!confirmUser?"+this.props.email+"&+"+this.state.confirmationNumber,{method:"POST"}).then(function(t){return t.json()}).then(function(e){e.error?t.setState({serverError:e.error,showServerError:!0,loading:!1}):e.token&&(t.setState({loading:!1,confirmAccountSuccess:!0}),t.props.handleLoginSuccess(e.user,e.token))}).then(function(){t.state.confirmAccountSuccess&&Object(y.c)("/profile",!0)})},e.prototype.render=function(){return Object(m.h)(A,{confirmationNumber:this.state.confirmationNumber,handleConfirmationNumberChange:this._handleConfirmationNumberChange,hasError:!(!this.state.confirmationNumber||!isNaN(this.state.confirmationNumber)&&6===this.state.confirmationNumber.length),serverError:this.state.serverError,showServerError:this.state.showServerError,loading:this.state.loading,handleConfirmAccount:this._handleConfirmAccount})},e}(m.Component),k=function(t){function e(){return h(this,e),p(this,t.apply(this,arguments))}return b(e,t),e.prototype.render=function(t){return Object(m.h)(d.a,{formRail:Object(m.h)(T,{email:t.email,handleLoginSuccess:function(e,r){return t.handleLoginSuccess(e,r)}})})},e}(m.Component);e.default=k},r33O:function(t,e,r){"use strict";r.d(e,"a",function(){return c});var n=r("EBst"),o=(r.n(n),r("HW6M")),i=r.n(o),c=function(t){var e=i()("toast",{"toast-primary":t.primary,"toast-success":t.success,"toast-warning":t.warning,"toast-error":t.error,"d-none":!t.active});return Object(n.h)("div",{class:e},t.children)}}});
//# sourceMappingURL=route-confirm-account.chunk.b50aa.js.map