webpackJsonp([2],{"76/O":function(e,r,t){"use strict";function o(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function n(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}function s(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function a(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function i(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}function c(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function u(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function f(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0});var h=t("EBst"),p=t("o5xd"),l=t("y+SO"),d=t("HW6M"),w=t.n(d),b=t("AM5m"),y=(t("wI7h"),t("r33O")),O=Object(h.h)("h1",null,"Reset Account Password"),m=function(e){function r(){return o(this,e.apply(this,arguments))}return n(r,e),r.prototype.render=function(e){var r=w()("form-group",{"has-error":e.formError}),t=w()("form-input-hint",{"d-hide":!e.formError}),o=w()("btn","btn-primary",{loading:e.loading});return Object(h.h)("div",{class:r},O,Object(h.h)(y.a,{error:!0,active:e.showServerError},e.serverError),Object(h.h)(b.c,{value:e.password,onChange:e.handlePasswordChange}),Object(h.h)(b.c,{label:"Confirm Password",value:e.password2,onChange:e.handlePassword2Change}),Object(h.h)("p",{class:t},"Passwords do not match"),Object(h.h)("button",{class:o,onClick:e.handleResetPassword},"Reset password"))},r}(h.Component),P=function(e){function r(t){s(this,r);var o=a(this,e.call(this,t));return o._handleResetPassword=function(){if(o.state.password!==o.state.password2)return void o.setState({formError:!0});o.state.formError&&o.setState({formError:!1}),o.setState({loading:!0}),fetch("https://erikdgustafson.com/api/!resetUserPassword?"+o.props.email+"&"+o.state.password).then(function(e){return e.json()}).then(function(e){e.error?o.setState({serverError:e.error,showServerError:!0,loading:!1}):e.token&&(o.setState({loading:!1,resetPasswordSuccess:!0}),o.props.handleResetPasswordSuccess(e.user,e.token))}).then(function(){o.state.resetPasswordSuccess&&Object(l.c)("/profile",!0)})},o._handlePasswordChange=function(e){o.setState({password:e.target.value})},o._handlePassword2Change=function(e){o.setState({password2:e.target.value})},o.state={password:"",password2:"",formError:!1,serverError:"",showServerError:!1,loading:!1},o}return i(r,e),r.prototype.render=function(){return Object(h.h)(m,{serverError:this.state.serverError,showServerError:this.state.showServerError,formError:this.state.formError,password:this.state.password,password2:this.state.password2,handlePasswordChange:this._handlePasswordChange,handlePassword2Change:this._handlePassword2Change,handleResetPassword:this._handleResetPassword,loading:this.state.loading})},r}(h.Component),E=function(e){function r(){return c(this,r),u(this,e.apply(this,arguments))}return f(r,e),r.prototype.render=function(e){return Object(h.h)(p.a,{formRail:Object(h.h)(P,{email:e.email,handleResetPasswordSuccess:function(r,t){return e.handleResetPasswordSuccess(r,t)}})})},r}(h.Component);r.default=E}});
//# sourceMappingURL=route-reset-password.chunk.b98af.js.map