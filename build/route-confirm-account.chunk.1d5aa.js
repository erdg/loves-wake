webpackJsonp([7],{Vobf:function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var h=n("EBst"),l=n("o5xd"),p=n("y+SO"),b=n("HW6M"),m=n.n(b),d=n("AM5m"),y=n("r33O"),O=Object(h.h)("h1",{class:"text-center"},"Confirm Account"),g=Object(h.h)("i",{class:"icon icon-3x icon-mail",style:"width: 100%;margin: 0 auto;"}),w=Object(h.h)("p",{class:"text-center"},"We sent you an email. Please enter the six-digit number below to confirm your account."),C=Object(h.h)("p",{class:"form-input-hint"},"Please enter a six-digit number"),j=function(e){function t(){return r(this,e.apply(this,arguments))}return o(t,e),t.prototype.render=function(e){var t=m()("form-group",{"has-error":e.hasError}),n=m()("btn","btn-primary","centered","mt-2",{loading:e.loading});return Object(h.h)("div",{class:t},O,g,w,Object(h.h)(y.a,{error:!0,active:e.showServerError},e.serverError),Object(h.h)(d.f,{value:e.confirmationNumber,onChange:e.handleConfirmationNumberChange}),C,Object(h.h)("button",{class:n,onClick:e.handleConfirmAccount},"Confirm Account"))},t}(h.Component),v=function(e){function t(n){i(this,t);var r=c(this,e.call(this,n));return r._handleConfirmationNumberChange=r._handleConfirmationNumberChange.bind(r),r._handleConfirmAccount=r._handleConfirmAccount.bind(r),r.state={confirmationNumber:"",serverError:"",showServerError:!1,confirmAccountSuccess:!1,loading:!1},r}return a(t,e),t.prototype._handleConfirmationNumberChange=function(e){this.setState({confirmationNumber:e.target.value})},t.prototype._handleConfirmAccount=function(){var e=this;this.setState({loading:!0}),fetch("https://erikdgustafson.com/api/!confirmUser?"+this.props.email+"&+"+this.state.confirmationNumber,{method:"POST"}).then(function(e){return e.json()}).then(function(t){t.error?e.setState({serverError:t.error,showServerError:!0,loading:!1}):t.token&&(e.setState({loading:!1,confirmAccountSuccess:!0}),e.props.handleLoginSuccess(t.user,t.token))}).then(function(){e.state.confirmAccountSuccess&&Object(p.c)("/profile",!0)})},t.prototype.render=function(){return Object(h.h)(j,{confirmationNumber:this.state.confirmationNumber,handleConfirmationNumberChange:this._handleConfirmationNumberChange,hasError:!(!this.state.confirmationNumber||!isNaN(this.state.confirmationNumber)&&6===this.state.confirmationNumber.length),serverError:this.state.serverError,showServerError:this.state.showServerError,loading:this.state.loading,handleConfirmAccount:this._handleConfirmAccount})},t}(h.Component),_=function(e){function t(){return s(this,t),u(this,e.apply(this,arguments))}return f(t,e),t.prototype.render=function(e){return Object(h.h)(l.a,{formRail:Object(h.h)(v,{email:e.email,handleLoginSuccess:function(t,n){return e.handleLoginSuccess(t,n)}})})},t}(h.Component);t.default=_}});
//# sourceMappingURL=route-confirm-account.chunk.1d5aa.js.map