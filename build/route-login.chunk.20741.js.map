{"version":3,"sources":["webpack:///route-login.chunk.20741.js","webpack:///./routes/login/components/login-form-inputs.js","webpack:///./routes/login/components/login-form.js","webpack:///./routes/login/components/login-form-container.js","webpack:///./routes/login/index.js","webpack:///./components/toast.js","webpack:///./components/dialog.js"],"names":["webpackJsonp","TVzt","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","login_form__classCallCheck","instance","Constructor","login_form__possibleConstructorReturn","login_form__inherits","login_form_container__classCallCheck","login_form_container__possibleConstructorReturn","login_form_container__inherits","login__classCallCheck","login__possibleConstructorReturn","login__inherits","defineProperty","preact_min","flex_container","preact_router_es","classnames","classnames_default","n","_ref","class","login_form_inputs_EmailInput","props","email","onChange","handleEmailChange","type","placeholder","_ref2","_ref3","login_form_inputs_PasswordInput","_Component","PasswordInput","this","apply","arguments","render","password","handlePasswordChange","showPassword","onClick","toggleShowPassword","toast","login_form__ref","login_form__ref2","login_form_LoginForm","LoginForm","btnClasses","loading","error","active","showServerError","serverError","handleLogin","login_form_container_LoginFormContainer","LoginFormContainer","_this","_handleLogin","setState","fetch","state","then","resp","json","token","loginSuccess","handleLoginSuccess","user","_handleEmailChange","bind","_handlePasswordChange","_toggleShowPassword","e","target","login_Login","Login","formRail","r33O","d","Toast","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1_classnames__","__WEBPACK_IMPORTED_MODULE_1_classnames___default","classes","toast-primary","primary","toast-success","success","toast-warning","warning","toast-error","d-none","children","wI7h","Dialog","diaClasses"],"mappings":"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","file":"route-login.chunk.20741.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"TVzt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"EBst\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ./components/flex-container/index.js\nvar flex_container = __webpack_require__(\"o5xd\");\n\n// EXTERNAL MODULE: ./node_modules/preact-router/dist/preact-router.es.js\nvar preact_router_es = __webpack_require__(\"y+SO\");\n\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(\"HW6M\");\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ./components/dialog.js\nvar dialog = __webpack_require__(\"wI7h\");\n\n// CONCATENATED MODULE: ./routes/login/components/login-form-inputs.js\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar _ref = Object(preact_min[\"h\"])(\n   'label',\n   { 'class': 'form-label' },\n   'Email'\n);\n\nvar login_form_inputs_EmailInput = function EmailInput(props) {\n   return Object(preact_min[\"h\"])(\n      'div',\n      null,\n      _ref,\n      Object(preact_min[\"h\"])('input', {\n         value: props.email,\n         onChange: props.handleEmailChange,\n         type: 'email',\n         'class': 'form-input',\n         placeholder: 'Your email'\n      })\n   );\n};\n\nvar _ref2 = Object(preact_min[\"h\"])(\n   'label',\n   { 'class': 'form-label' },\n   'Password'\n);\n\nvar _ref3 = Object(preact_min[\"h\"])('i', { 'class': 'form-icon' });\n\nvar login_form_inputs_PasswordInput = function (_Component) {\n   _inherits(PasswordInput, _Component);\n\n   function PasswordInput() {\n      _classCallCheck(this, PasswordInput);\n\n      return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n   }\n\n   PasswordInput.prototype.render = function render(props) {\n      return Object(preact_min[\"h\"])(\n         'div',\n         null,\n         _ref2,\n         Object(preact_min[\"h\"])('input', {\n            value: props.password,\n            onChange: props.handlePasswordChange,\n            'class': 'form-input',\n            type: props.showPassword ? \"text\" : \"password\",\n            placeholder: 'Your password'\n         }),\n         Object(preact_min[\"h\"])(\n            'label',\n            { 'class': 'form-switch' },\n            Object(preact_min[\"h\"])('input', { type: 'checkbox',\n               onClick: props.toggleShowPassword\n            }),\n            _ref3,\n            'Show password'\n         )\n      );\n   };\n\n   return PasswordInput;\n}(preact_min[\"Component\"]);\n\n\n// EXTERNAL MODULE: ./components/toast.js\nvar toast = __webpack_require__(\"r33O\");\n\n// CONCATENATED MODULE: ./routes/login/components/login-form.js\n\n\nfunction login_form__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction login_form__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction login_form__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\nvar login_form__ref = Object(preact_min[\"h\"])(\n   'h1',\n   null,\n   'Login'\n);\n\nvar login_form__ref2 = Object(preact_min[\"h\"])(\n   'button',\n   { 'class': 'btn btn-link float-right' },\n   'Recover account'\n);\n\nvar login_form_LoginForm = function (_Component) {\n   login_form__inherits(LoginForm, _Component);\n\n   function LoginForm() {\n      login_form__classCallCheck(this, LoginForm);\n\n      return login_form__possibleConstructorReturn(this, _Component.apply(this, arguments));\n   }\n\n   LoginForm.prototype.render = function render(props) {\n      var btnClasses = classnames_default()('btn', 'btn-primary', {\n         'loading': props.loading\n      });\n      return Object(preact_min[\"h\"])(\n         'div',\n         { 'class': 'form-group m-2' },\n         login_form__ref,\n         Object(preact_min[\"h\"])(\n            toast[\"a\" /* Toast */],\n            { error: true, active: props.showServerError },\n            props.serverError\n         ),\n         Object(preact_min[\"h\"])(login_form_inputs_EmailInput, {\n            email: props.email,\n            handleEmailChange: props.handleEmailChange\n         }),\n         Object(preact_min[\"h\"])(login_form_inputs_PasswordInput, {\n            password: props.password,\n            handlePasswordChange: props.handlePasswordChange,\n            toggleShowPassword: props.toggleShowPassword,\n            showPassword: props.showPassword\n         }),\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'row' },\n            Object(preact_min[\"h\"])(\n               'button',\n               {\n                  'class': btnClasses,\n                  onClick: props.handleLogin\n               },\n               'Login'\n            ),\n            login_form__ref2\n         )\n      );\n   };\n\n   return LoginForm;\n}(preact_min[\"Component\"]);\n\n\n// CONCATENATED MODULE: ./routes/login/components/login-form-container.js\n\n\nfunction login_form_container__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction login_form_container__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction login_form_container__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar login_form_container_LoginFormContainer = function (_Component) {\n   login_form_container__inherits(LoginFormContainer, _Component);\n\n   function LoginFormContainer(props) {\n      login_form_container__classCallCheck(this, LoginFormContainer);\n\n      // this._handleLogin = this._handleLogin.bind(this);\n      var _this = login_form_container__possibleConstructorReturn(this, _Component.call(this, props));\n\n      _this._handleLogin = function () {\n         // loading spinner on button\n         _this.setState({ loading: true });\n\n         fetch(\"https://erikdgustafson.com/api/!loginUser?\" + _this.state.email + \"&\" + _this.state.password).then(function (resp) {\n            return resp.json();\n         }).then(function (json) {\n            if (json.error) {\n               _this.setState({\n                  // display errors and remove loading spinner\n                  serverError: json.error,\n                  showServerError: true,\n                  loading: false\n               });\n            } else if (json.token) {\n               // remove loading spinner\n               // set loginSuccess flag to true to trigger route change to 'Profile'\n               // FIXME - the above feels like a hack. \n               // might be time to add a redux-style store?\n               _this.setState({ loading: false, loginSuccess: true });\n               // send event up to set global app state with logged in user\n               _this.props.handleLoginSuccess(json.user, json.token);\n            }\n         }).then(function () {\n            if (_this.state.loginSuccess) {\n               Object(preact_router_es[\"c\" /* route */])('/profile', true);\n            }\n         });\n\n         // clear password\n         _this.setState({ password: '' });\n      };\n\n      _this._handleEmailChange = _this._handleEmailChange.bind(_this);\n      _this._handlePasswordChange = _this._handlePasswordChange.bind(_this);\n      _this._toggleShowPassword = _this._toggleShowPassword.bind(_this);\n      _this.state = {\n         email: '',\n         password: '',\n         showPassword: false,\n         serverError: '',\n         showServerError: false,\n         loading: false,\n         loginSuccess: false\n      };\n      return _this;\n   }\n\n   LoginFormContainer.prototype._toggleShowPassword = function _toggleShowPassword() {\n      var showPassword = !this.state.showPassword;\n      this.setState({ showPassword: showPassword });\n   };\n\n   LoginFormContainer.prototype._handleEmailChange = function _handleEmailChange(e) {\n      this.setState({ email: e.target.value });\n   };\n\n   LoginFormContainer.prototype._handlePasswordChange = function _handlePasswordChange(e) {\n      this.setState({ password: e.target.value });\n   };\n\n   LoginFormContainer.prototype.render = function render() {\n      return Object(preact_min[\"h\"])(login_form_LoginForm, {\n\n         serverError: this.state.serverError,\n         showServerError: this.state.showServerError,\n\n         email: this.state.email,\n         handleEmailChange: this._handleEmailChange,\n\n         password: this.state.password,\n         handlePasswordChange: this._handlePasswordChange,\n\n         toggleShowPassword: this._toggleShowPassword,\n         showPassword: this.state.showPassword,\n\n         handleLogin: this._handleLogin,\n\n         loading: this.state.loading\n\n      });\n   };\n\n   return LoginFormContainer;\n}(preact_min[\"Component\"]);\n\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib?{\"babelrc\":false,\"presets\":[[\"/home/erik/loves-wake/node_modules/babel-preset-env/lib/index.js\",{\"loose\":true,\"uglify\":true,\"modules\":false,\"targets\":{\"browsers\":[\"> 1%\",\"last 2 versions\",\"IE >= 9\"]},\"exclude\":[\"transform-regenerator\",\"transform-es2015-typeof-symbol\"]}],\"/home/erik/loves-wake/node_modules/babel-preset-stage-1/lib/index.js\"],\"plugins\":[\"/home/erik/loves-wake/node_modules/babel-plugin-transform-object-assign/lib/index.js\",\"/home/erik/loves-wake/node_modules/babel-plugin-transform-decorators-legacy/lib/index.js\",\"/home/erik/loves-wake/node_modules/babel-plugin-transform-react-constant-elements/lib/index.js\",\"/home/erik/loves-wake/node_modules/babel-plugin-transform-react-remove-prop-types/lib/index.js\",[\"/home/erik/loves-wake/node_modules/babel-plugin-transform-react-jsx/lib/index.js\",{\"pragma\":\"h\"}],[\"/home/erik/loves-wake/node_modules/babel-plugin-jsx-pragmatic/jsx-pragmatic.js\",{\"module\":\"preact\",\"export\":\"h\",\"import\":\"h\"}]]}!./routes/login/index.js\n\n\nfunction login__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction login__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction login__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar login_Login = function (_Component) {\n   login__inherits(Login, _Component);\n\n   function Login() {\n      login__classCallCheck(this, Login);\n\n      return login__possibleConstructorReturn(this, _Component.apply(this, arguments));\n   }\n\n   Login.prototype.render = function render(props) {\n      return Object(preact_min[\"h\"])(flex_container[\"a\" /* FlexContainer */], {\n         formRail: Object(preact_min[\"h\"])(login_form_container_LoginFormContainer, {\n            handleLoginSuccess: function handleLoginSuccess(user, token) {\n               return props.handleLoginSuccess(user, token);\n            }\n         })\n      });\n   };\n\n   return Login;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var login = __webpack_exports__[\"default\"] = (login_Login);\n\n/***/ }),\n\n/***/ \"r33O\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Toast; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"EBst\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames__ = __webpack_require__(\"HW6M\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);\n\n\n\n\nvar Toast = function Toast(props) {\n   var classes = __WEBPACK_IMPORTED_MODULE_1_classnames___default()('toast', {\n      'toast-primary': props.primary,\n      'toast-success': props.success,\n      'toast-warning': props.warning,\n      'toast-error': props.error,\n      'd-none': !props.active\n   });\n   return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'div',\n      { 'class': classes },\n      props.children\n   );\n};\n\n\n\n/***/ }),\n\n/***/ \"wI7h\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Dialog; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"EBst\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames__ = __webpack_require__(\"HW6M\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);\n\n\n\nvar Dialog = function Dialog(props) {\n   var btnClasses = __WEBPACK_IMPORTED_MODULE_1_classnames___default()('btn', 'btn-action', 'btn-sm', 'btn-primary', 'circle', 'text-bold', 'float-right', 'm-1');\n   var diaClasses = __WEBPACK_IMPORTED_MODULE_1_classnames___default()('dialog', {\n      'd-none': !props.active\n   });\n   return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'div',\n      { 'class': 'relative mt-1' },\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n         'div',\n         { 'class': diaClasses },\n         props.children\n      ),\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n         'button',\n         {\n            'class': btnClasses\n         },\n         'i'\n      )\n   );\n};\n\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-login.chunk.20741.js","import { Component } from 'preact';\n\nimport { Dialog } from '../../../components/dialog';\n\nconst EmailInput = (props) => (\n   <div>\n      <label class=\"form-label\">Email</label>\n      <input\n         value={props.email}\n         onChange={props.handleEmailChange}\n         type=\"email\"\n         class=\"form-input\" \n         placeholder=\"Your email\"\n      />\n   </div>\n)\n\nclass PasswordInput extends Component {\n\n   render (props) {\n      return (\n         <div>\n\n            <label class=\"form-label\">\n               Password\n            </label>\n            <input \n               value={ props.password }\n               onChange={ props.handlePasswordChange }\n               class=\"form-input\" \n               type={ props.showPassword ? \"text\" : \"password\" }\n               placeholder=\"Your password\"\n            />\n\n            <label class=\"form-switch\">\n               <input type=\"checkbox\" \n                  onClick={ props.toggleShowPassword } \n               />\n               <i class=\"form-icon\"></i>\n               Show password\n            </label>\n\n         </div>\n      )\n   }\n}\n\nexport { EmailInput, PasswordInput };\n\n\n\n// WEBPACK FOOTER //\n// ./routes/login/components/login-form-inputs.js","import { Component } from 'preact';\nimport classNames from 'classnames';\n\nimport { EmailInput, PasswordInput } from './login-form-inputs';\nimport { Dialog } from '../../../components/dialog';\nimport { Toast } from '../../../components/toast';\n\nclass LoginForm extends Component {\n   render (props) {\n      let btnClasses = classNames(\n         'btn', \n         'btn-primary',\n         {\n            'loading': props.loading\n         }\n      );\n      return (\n         <div class=\"form-group m-2\">\n\n            <h1>Login</h1>\n\n            <Toast error active={props.showServerError}>\n               {props.serverError}\n            </Toast>\n\n            <EmailInput \n               email={props.email}\n               handleEmailChange={props.handleEmailChange}\n            />\n\n            <PasswordInput \n               password={props.password}\n               handlePasswordChange={props.handlePasswordChange}\n               toggleShowPassword={ props.toggleShowPassword }\n               showPassword={ props.showPassword }\n            />\n\n            <div class=\"row\">\n               <button \n                  class={ btnClasses }\n                  onClick={ props.handleLogin }\n               >\n                  Login\n               </button>\n               <button class=\"btn btn-link float-right\">\n                  Recover account\n               </button>\n            </div>\n\n         </div>\n      )\n   }\n}\n\nexport { LoginForm };\n\n\n\n// WEBPACK FOOTER //\n// ./routes/login/components/login-form.js","import { h, Component } from 'preact';\nimport { route } from 'preact-router';\n\nimport { LoginForm } from './login-form';\n\nclass LoginFormContainer extends Component { \n   constructor (props) {\n      super(props);\n      // this._handleLogin = this._handleLogin.bind(this);\n      this._handleEmailChange = this._handleEmailChange.bind(this);\n      this._handlePasswordChange = this._handlePasswordChange.bind(this);\n      this._toggleShowPassword = this._toggleShowPassword.bind(this);\n      this.state = {\n         email: '',\n         password: '',\n         showPassword: false,\n         serverError: '',\n         showServerError: false,\n         loading: false,\n         loginSuccess: false\n      };\n   }\n\n   _toggleShowPassword () {\n      let showPassword = !this.state.showPassword;\n      this.setState({ showPassword });\n   }\n\n   _handleLogin = () => {\n      // loading spinner on button\n      this.setState({ loading: true });\n\n      fetch(\"https://erikdgustafson.com/api/!loginUser?\"\n         + this.state.email\n         + \"&\"\n         + this.state.password\n      )\n      .then( (resp) => {\n         return resp.json();\n      })\n      .then( (json) => {\n         if (json.error) {\n            this.setState({ \n               // display errors and remove loading spinner\n               serverError: json.error, \n               showServerError: true,\n               loading: false\n            });\n\n         } else if (json.token) {\n            // remove loading spinner\n            // set loginSuccess flag to true to trigger route change to 'Profile'\n            // FIXME - the above feels like a hack. \n            // might be time to add a redux-style store?\n            this.setState({ loading: false, loginSuccess: true});\n            // send event up to set global app state with logged in user\n            this.props.handleLoginSuccess(json.user, json.token);\n         }\n      })\n      .then( () => {\n         if (this.state.loginSuccess) {\n            route('/profile', true);\n         }\n      });\n\n      // clear password\n      this.setState({ password: '' });\n\n   }\n\n   _handleEmailChange (e) {\n      this.setState({ email: e.target.value });\n   }\n\n   _handlePasswordChange (e) {\n      this.setState({ password: e.target.value });\n   }\n\n   render () {\n      return (\n         <LoginForm \n\n            serverError={ this.state.serverError }\n            showServerError={ this.state.showServerError }\n\n            email={ this.state.email }\n            handleEmailChange={ this._handleEmailChange }\n\n            password={ this.state.password }\n            handlePasswordChange={ this._handlePasswordChange }\n\n            toggleShowPassword={ this._toggleShowPassword }\n            showPassword={ this.state.showPassword }\n\n            handleLogin={ this._handleLogin }\n\n            loading={ this.state.loading }\n\n         />\n      )\n   }\n}\n\nexport { LoginFormContainer };\n\n\n\n// WEBPACK FOOTER //\n// ./routes/login/components/login-form-container.js","import { h, Component } from 'preact';\n\nimport { FlexContainer } from '../../components/flex-container';\nimport { LoginFormContainer } from './components/login-form-container';\n\nclass Login extends Component {\n   render (props) {\n      return (\n         <FlexContainer \n            formRail={ \n               <LoginFormContainer \n                  handleLoginSuccess={ (user, token) => props.handleLoginSuccess(user, token) }\n               /> \n            } \n         />\n      );\n   }\n}\n\nexport default Login;\n\n\n\n\n// WEBPACK FOOTER //\n// ./routes/login/index.js","import { Component } from 'preact';\nimport classNames from 'classnames';\n\nconst Toast = (props) => {\n   let classes = classNames(\n      'toast',\n      {\n         'toast-primary': props.primary,\n         'toast-success': props.success,\n         'toast-warning': props.warning,\n         'toast-error': props.error,\n         'd-none': !props.active\n      }\n   );\n   return (\n      <div class={classes}>\n         {props.children}\n      </div>\n   );\n}\n\nexport { Toast };\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/toast.js","import classNames from 'classnames';\n\nconst Dialog = (props) => {\n   let btnClasses = classNames(\n      'btn', 'btn-action', 'btn-sm', 'btn-primary', 'circle',\n      'text-bold',\n      'float-right',\n      'm-1'\n   );\n   let diaClasses = classNames(\n      'dialog',\n      {\n         'd-none': !props.active\n      }\n   );\n   return (\n      <div class=\"relative mt-1\">\n         <div class={diaClasses}>\n            {props.children}\n         </div>\n         <button \n            class={btnClasses}\n         >\n            i\n         </button>\n      </div>\n   );\n}\n\nexport { Dialog };\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/dialog.js"],"sourceRoot":""}